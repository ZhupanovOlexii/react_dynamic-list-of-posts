{"version":3,"sources":["User.tsx","Comment.tsx","CommentList.tsx","Post.tsx","PostList.tsx","App.tsx","api.tsx","index.tsx"],"names":["User","user","className","name","address","city","street","suite","href","email","Comment","body","CommentList","comments","map","comment","key","id","Post","title","PostList","posts","post","App","useState","setPosts","isloading","setLoading","query","setQuery","errorMessage","setErrorMessage","loadPosts","a","fetch","then","response","json","postFromServer","usersFromServer","commentsFromServer","prepearedPosts","find","userId","filter","postId","filteredposts","useMemo","toLowerCase","includes","trim","length","type","placeholder","onChange","event","target","value","onClick","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9c7fa115.chunk.js","sourcesContent":["import React from 'react';\nimport './User.scss';\n\ntype UserProps ={\n  user: User;\n};\n\nconst User: React.FC<UserProps> = ({ user }) => (\n  <section className=\"user \">\n    <p className=\"user__name\">\n      {user.name}\n    </p>\n    <div className=\"user__address\">\n      <p className=\"user__city\">\n        {user.address.city}\n        ,\n      </p>\n      <p className=\"user__street\">\n        {user.address.street}\n        ,\n      </p>\n      <p className=\"user__suite\">\n        {user.address.suite}\n        ,\n      </p>\n      <a href={`mailto:${user.email}`} className=\"comment__email\">\n        {user.email}\n      </a>\n    </div>\n  </section>\n);\n\nexport default User;\n","import React from 'react';\nimport './Comment.scss';\n\nconst Comment: React.FC<Comment> = ({ name, body, email }) => (\n  <div className=\"comment\">\n    <p className=\"comment__name\">\n      {name}\n    </p>\n    <p className=\"comment__text\">\n      {body}\n    </p>\n    <p className=\"comment__email\">\n      <a href={`mailto:${email}`}>\n        {email}\n      </a>\n    </p>\n  </div>\n);\n\nexport default Comment;\n","import React from 'react';\nimport Comment from './Comment';\n\ntype CommentListProps = {\n  comments: Comment[];\n};\n\nconst CommentList: React.FC<CommentListProps> = ({ comments }) => (\n  <div className=\"comments\">\n    <h3>Comments</h3>\n    {comments.map(comment => (\n      <Comment {...comment} key={comment.id} />\n    ))}\n  </div>\n);\n\nexport default CommentList;\n","import React from 'react';\nimport User from './User';\nimport CommentList from './CommentList';\nimport './Post.scss';\n\nconst Post: React.FC<Post> = ({\n  title, body, user, comments,\n}) => (\n  <div className=\"post\">\n    <h2 className=\"post__title\">\n      {title}\n    </h2>\n    <User user={user} />\n    <p className=\"post__body\">\n      {body}\n    </p>\n    <CommentList comments={comments} />\n  </div>\n);\n\nexport default Post;\n","import React from 'react';\nimport Post from './Post';\n\ntype PostListProps = {\n  posts: Post[];\n};\n\nconst PostList: React.FC<PostListProps> = ({ posts }) => (\n  <>\n    <div className=\"post__list\">\n      {posts.map(post => (\n        <Post {...post} key={post.id} />\n      ))}\n    </div>\n  </>\n);\n\nexport default PostList;\n","import React, { useState, useMemo } from 'react';\nimport './App.scss';\nimport { getPosts, getComments, getUsers } from './api';\n// import { getPreparedPosts } from './api';\nimport PostList from './PostList';\n\n\nconst App = () => {\n  const [posts, setPosts] = useState<Post[]>([]);\n  const [isloading, setLoading] = useState<boolean>(false);\n  const [query, setQuery] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const loadPosts = async () => {\n    setLoading(true);\n\n    try {\n      const postFromServer = await getPosts();\n      const usersFromServer = await getUsers();\n      const commentsFromServer = await getComments();\n\n      const prepearedPosts = postFromServer.map((post: Post) => ({\n        ...post,\n        user: usersFromServer.find((user: User) => user.id === post.userId),\n        comments: commentsFromServer.filter((comment: Comment) => comment.postId === post.id),\n      }));\n\n      setPosts(prepearedPosts);\n    } catch (e) {\n      setErrorMessage('Error, try again later');\n    }\n\n    setLoading(false);\n  };\n\n  // const loadPosts = async () => {\n  //   setLoading(true);\n  //   try {\n  //    const preparedPosts = await getPreparedPosts()\n  //    setPosts(preparedPosts);\n  //   } catch(e) {\n  //     setError('Error, try again later')\n  //   }\n  //   setLoading(false);\n  // };\n\n\n  const searchQuery = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const target = event.target.value;\n\n    setQuery(target);\n  };\n\n  const filteredposts = useMemo(() => posts.filter(post => {\n    return (post.title + post.body).toLowerCase().includes(query.trim().toLowerCase());\n  }), [query, posts]);\n\n  return (\n    <div className=\"App\">\n      <h1>Dynamic list of posts</h1>\n      {!posts.length ? (\n        <>\n          <button\n            type=\"button\"\n            className=\"button\"\n            onClick={loadPosts}\n          >\n            {isloading ? 'Loading...' : 'Click to Load'}\n          </button>\n          {errorMessage && <p className=\"error\">{errorMessage}</p>}\n        </>\n      ) : (\n        <>\n          <input\n            type=\"text\"\n            className=\"input\"\n            placeholder=\"what you search\"\n            onChange={searchQuery}\n          />\n          <PostList posts={filteredposts} />\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","const API_USERS_URL = 'https://jsonplaceholder.typicode.com/users';\nconst API_POSTS_URL = 'https://jsonplaceholder.typicode.com/posts';\nconst API_COMMENTS_URL = 'https://jsonplaceholder.typicode.com/comments';\n\n\nexport const getUsers = () => {\n  return fetch(API_USERS_URL)\n    .then(response => response.json());\n};\n\nexport const getPosts = () => {\n  return fetch(API_POSTS_URL)\n    .then(response => response.json());\n};\n\nexport const getComments = () => {\n  return fetch(API_COMMENTS_URL)\n    .then(response => response.json());\n};\n\n// export const getPreparedPosts = async () => {\n//   const [postFromServer, usersFromServer, commentsFromServer] = await Promise.all([\n//     getUsers(),\n//     getPosts(),\n//     getComments(),\n//   ]);\n\n//  return postFromServer.map((post: Post) => ({\n//     ...post,\n//     user: usersFromServer.find((user: User) => user.id === post.userId),\n//     comments: commentsFromServer.filter((comment: Comment) => comment.postId === post.id),\n//   }));\n// };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}