(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a(17)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),s=a.n(c),o=a(2),m=a.n(o),l=a(3),u=a(1),i=(a(13),a(4)),p=function(){var e=Object(l.a)(m.a.mark((function e(){var t,a,n,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([fetch("https://jsonplaceholder.typicode.com/posts").then((function(e){return e.json()})),fetch("https://jsonplaceholder.typicode.com/users").then((function(e){return e.json()})),fetch("https://jsonplaceholder.typicode.com/comments").then((function(e){return e.json()}))]);case 2:return t=e.sent,a=Object(u.a)(t,3),n=a[0],r=a[1],c=a[2],e.abrupt("return",n.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{user:r.find((function(t){return t.id===e.userId})),comments:c.filter((function(t){return t.postId===e.id}))})})));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=(a(14),function(e){var t=e.user;return r.a.createElement("section",{className:"user "},r.a.createElement("p",{className:"user__name"},t.name),r.a.createElement("div",{className:"user__address"},r.a.createElement("p",{className:"user__city"},t.address.city,","),r.a.createElement("p",{className:"user__street"},t.address.street,","),r.a.createElement("p",{className:"user__suite"},t.address.suite,","),r.a.createElement("a",{href:"mailto:".concat(t.email),className:"comment__email"},t.email)))}),d=(a(15),function(e){var t=e.name,a=e.body,n=e.email;return r.a.createElement("div",{className:"comment"},r.a.createElement("p",{className:"comment__name"},t),r.a.createElement("p",{className:"comment__text"},a),r.a.createElement("p",{className:"comment__email"},r.a.createElement("a",{href:"mailto:".concat(n)},n)))}),E=function(e){var t=e.comments;return r.a.createElement("div",{className:"comments"},r.a.createElement("h3",null,"Comments"),t.map((function(e){return r.a.createElement(d,Object.assign({},e,{key:e.id}))})))},h=(a(16),function(e){var t=e.title,a=e.body,n=e.user,c=e.comments;return r.a.createElement("div",{className:"post"},r.a.createElement("h2",{className:"post__title"},t),r.a.createElement(f,{user:n}),r.a.createElement("p",{className:"post__body"},a),r.a.createElement(E,{comments:c}))}),b=function(e){var t=e.posts;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"post__list"},t.map((function(e){return r.a.createElement(h,Object.assign({},e,{key:e.id}))}))))},_=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),o=Object(u.a)(s,2),i=o[0],f=o[1],d=Object(n.useState)(""),E=Object(u.a)(d,2),h=E[0],_=E[1],v=Object(n.useState)(""),j=Object(u.a)(v,2),y=j[0],N=j[1],O=function(){var e=Object(l.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,p();case 4:t=e.sent,c(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),N("Error, try again later");case 11:f(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),g=Object(n.useMemo)((function(){return a.filter((function(e){return(e.title+e.body).toLowerCase().includes(h.trim().toLowerCase())}))}),[h,a]);return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Dynamic list of posts"),a.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",className:"input",placeholder:"what you search",onChange:function(e){var t=e.target.value;_(t)}}),r.a.createElement(b,{posts:g})):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",className:"button",onClick:O},i?"Loading...":"Click to Load"),y&&r.a.createElement("p",{className:"error"},y)))};s.a.render(r.a.createElement(_,null),document.getElementById("root"))}],[[7,1,2]]]);
//# sourceMappingURL=main.0deca7e0.chunk.js.map